const switchers=[...document.querySelectorAll(".switcher")],loginFormHandler=async a=>{a.preventDefault();const b=document.querySelector("#login-email").value.trim(),c=document.querySelector("#login-password").value.trim();if(b&&c){const a=await fetch("/api/users/login",{method:"POST",body:JSON.stringify({email:b,password:c}),headers:{"Content-Type":"application/json"}});a.ok?document.location.replace("/"):document.location.replace("/login")}},signupFormHandler=async a=>{a.preventDefault();const b=document.querySelector("#signup-username").value.trim(),c=document.querySelector("#signup-email").value.trim(),d=document.querySelector("#signup-password").value.trim();if(b&&c&&d){const a=await fetch("/api/users",{method:"POST",body:JSON.stringify({username:b,email:c,password:d}),headers:{"Content-Type":"application/json"}});a.ok?document.location.replace("/"):alert("Failed to sign up.")}};switchers.forEach(a=>{a.addEventListener("click",function(){switchers.forEach(a=>a.parentElement.classList.remove("is-active")),this.parentElement.classList.add("is-active")})}),document.querySelector(".form-login").addEventListener("submit",loginFormHandler),document.querySelector(".form-signup").addEventListener("submit",signupFormHandler);